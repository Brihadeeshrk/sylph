@import url("@radix-ui/colors/gray.css");
@import url("@radix-ui/colors/gray-alpha.css");
@import url("@radix-ui/colors/gray-dark.css");
@import url("@radix-ui/colors/gray-dark-alpha.css");
@import url("@radix-ui/colors/lime.css");
@import url("@radix-ui/colors/lime-alpha.css");
@import url("@radix-ui/colors/lime-dark.css");
@import url("@radix-ui/colors/lime-dark-alpha.css");
@import url("@radix-ui/colors/black-alpha.css");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-1 text-gray-12;

    font-size: 14px;
    font-style: normal;
    line-height: 21px;
    letter-spacing: -0.09px;

    h2,
    h3,
    sub {
      @apply text-gray-8;
    }

    sub {
      font-size: 12px;
      font-style: normal;
      line-height: normal;
      letter-spacing: 0.01px;
    }

    a {
      transition: opacity 0.2s ease;

      &:hover {
        opacity: 0.5;
      }
    }

    h1 {
      font-weight: 500;
    }

    .article {
      .flex > * {
        margin-top: 0 !important;
      }

      *:not(:first-child) {
        margin-top: 16px;
      }

      h1 + h2 {
        margin-top: 0 !important;
      }
    }
  }
}

@layer components {
  .bg-hover {
    position: relative;
    z-index: 1;
    width: fit-content;
    height: fit-content;
    padding: 2px 4px;

    &::before {
      @apply bg-gray-a2;

      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
      content: "";
      border-radius: 4px;
      opacity: 0;
      transition: all 0.2s ease;
      transform: scale(0.5);
    }

    &:hover::before {
      opacity: 1;
      transform: scale(1);
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: pretty;
  }
}

html {
  code[data-theme*=" "],
  code[data-theme*=" "] span {
    color: var(--shiki-light);
    background-color: var(--shiki-light-bg);
  }

  code[data-line-numbers] {
    counter-reset: line;
  }

  code[data-line-numbers] > [data-line]::before {
    /* Other styling */
    display: inline-block;
    width: 0.75rem;
    margin-right: 2rem;
    color: gray;
    text-align: right;
    content: counter(line);
    counter-increment: line;
  }

  code[data-line-numbers-max-digits="2"] > [data-line]::before {
    width: 1.25rem;
  }

  code[data-line-numbers-max-digits="3"] > [data-line]::before {
    width: 1.75rem;
  }

  code[data-line-numbers-max-digits="4"] > [data-line]::before {
    width: 2.25rem;
  }

  &.dark {
    code[data-theme*=" "],
    code[data-theme*=" "] span {
      color: var(--shiki-dark);
      background-color: var(--shiki-dark-bg);
    }
  }
}

body {
  pre {
    padding: 16px;
    overflow-x: auto;
    font-size: 12px;

    [data-line] {
      margin-top: 0 !important;
    }
  }
}

.preview {
  @apply border-gray-4 border mt-4 rounded-lg h-64 flex flex-col items-center justify-center;

  &[data-with-codeblock="true"] {
    @apply rounded-b-none;

    & + figure {
      @apply mt-0 border-t-0 rounded-t-none !important;
    }
  }
}

figure {
  @apply border-gray-4 border mt-4 rounded-lg;

  img {
    @apply w-full h-auto rounded-t-lg;
  }

  figcaption {
    @apply p-4 text-gray-8 text-sm;
  }
}
